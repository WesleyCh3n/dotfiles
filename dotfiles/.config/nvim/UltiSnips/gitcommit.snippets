global !p
def options(t, opts):
	if t:
		opts = [m[len(t):] for m in opts if m.startswith(t)]
	if len(opts) == 1:
		return opts[0]
	return "|".join(opts)
endglobal

snippet m "commit msg" b
$1`!p snip.rv=options(t[1], [
'update: '
'fix: ',
'enhancement: ',
'change: ',
'plugin: ',
'update README',
'feat: ',
'refactoring',])`
endsnippet
